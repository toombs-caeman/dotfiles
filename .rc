#!/usr/bin/env bash
# Author    : Caeman Toombs

## do nothing if not in an interactive shell
case $- in
    *i*) ;;
      *) return;;
esac

# set root
export REMOTE_CONFIG_DIR=$(realpath $(dirname $BASH_SOURCE))

# add bin to start of path
export PATH="$(find $REMOTE_CONFIG_DIR/bin/ -maxdepth 1 -type d | tr "\n" ":")$PATH"

# include scripts
for file in $(find $REMOTE_CONFIG_DIR/include/ -name '*.sh' | xargs); do
    . $file
done
# enable git subrepo
. $REMOTE_CONFIG_DIR/git-subrepo/.rc

silent which eksctl && . <(eksctl completion bash)
silent which kubectl && . <(kubectl completion bash)
silent which helm && . <(helm completion bash)

make_prompt
