# imbue config
#
# path relative to this file where the source files are found
source: .
themes: ../themes
theme: spacedust2
wallpaper: ~/Pictures/Wallpapers/rooftop-farm-jessica-woulfe.jpg

# used to detect which os is running
# nushell boolean expression fragments
detect:
  win: which winget | is-not-empty
  nix: which pacman | is-not-empty
  mac: which brew   | is-not-empty

# used to install packages as needed
# nushell fragment run with nu -c
install:
  mac: brew install
  win: winget install
  nix: sudo pacman -S --needed --noconfirm

template:
  nu: # shell https://www.nushell.sh/
    package: nushell # this is useless, since you need nushell to run this
    files:
      nushell.nu:
        nix: ~/.config/nushell/config.nu
        win: ~/AppData/Roaming/nushell/config.nu
  kitty:
    package: kitty
    files:
      kitty.conf:
        nix: ~/.config/kitty/kitty.conf

  nvim: # editor https://neovim.io/
    package: neovim
    files:
      nvim.init.lua:
        win: ~/AppData/Local/nvim/init.lua
        nix: ~/.config/nvim/init.lua
        mac: ~/.config/nvim/init.lua

  mpd:
    package: mpd mpc
    files:
      mpd.conf:
        nix: ~/.mpdconf

  git:
    files:
      gitconfig: ~/.gitconfig

  hyprland: # window manager
    package:
      nix: hyprland
    files:
      hyprland.conf: ~/.config/hypr/hyprland.conf

  waybar: # status bar
    package:
      nix: waybar
    files:
      waybar.jsonc: ~/.config/waybar/config.jsonc
      waybar.css: ~/.config/waybar/style.css
    callback: killall -SIGUSR2 waybar

  mako: # notifications
    package:
      nix: mako
    files:
      mako.ini: ~/.config/mako/config
    callback: makoctl reload

  hyprpaper:
    package:
      nix: hyprpaper
    files:
      hyprpaper.conf: ~/.config/hypr/hyprpaper.conf

  hypridle:
    package:
      nix: hypridle
    files:
      hypridle.conf: ~/.config/hypr/hypridle.conf

  hyprlock:
    package:
      nix: hyprlock
    files:
      hyprlock.conf: ~/.config/hypr/hyprlock.conf

  nwg-displays:
    package: nwg-displays

